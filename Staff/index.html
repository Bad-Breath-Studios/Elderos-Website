<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Elderos Staff Management Panel">
    <meta name="robots" content="noindex, nofollow">
    <title>Staff Login - Elderos</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/favicon.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/global.css?v=8">
    <link rel="stylesheet" href="css/login.css?v=8">
</head>
<body>
    <div class="login-page">
        <div class="login-container">
            <div class="login-card">
                <!-- Header -->
                <div class="login-header">
                    <img src="assets/logo.png" alt="Elderos" class="login-logo" onerror="this.style.display='none'">
                    <h1 class="login-title">Staff Panel</h1>
                    <p class="login-subtitle">Authorized personnel only</p>
                </div>

                <!-- Step Indicator -->
                <div class="step-indicator">
                    <div class="step-dot active" data-step="1"></div>
                    <div class="step-line" data-line="1"></div>
                    <div class="step-dot" data-step="2"></div>
                    <div class="step-line" data-line="2"></div>
                    <div class="step-dot" data-step="3"></div>
                </div>

                <!-- Error Message -->
                <div class="error-message" id="errorMessage">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="8" x2="12" y2="12"/>
                        <line x1="12" y1="16" x2="12.01" y2="16"/>
                    </svg>
                    <span id="errorText">Invalid credentials</span>
                </div>

                <!-- Step 1: Game Credentials -->
                <div class="login-step active" id="step1">
                    <h2 class="step-title">Sign In</h2>
                    <p class="step-description">Enter your game account credentials</p>

                    <form id="credentialsForm">
                        <div class="form-group">
                            <label class="form-label" for="username">Username</label>
                            <input
                                type="text"
                                id="username"
                                class="form-input"
                                placeholder="Enter your username"
                                autocomplete="username"
                                required
                            >
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="password">Password</label>
                            <div class="input-wrapper">
                                <input
                                    type="password"
                                    id="password"
                                    class="form-input"
                                    placeholder="Enter your password"
                                    autocomplete="current-password"
                                    required
                                >
                                <button type="button" class="password-toggle" id="passwordToggle">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                        <circle cx="12" cy="12" r="3"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="form-group remember-group">
                            <label class="remember-checkbox">
                                <input type="checkbox" id="rememberCredentials">
                                <span class="checkmark"></span>
                                <span class="remember-text">Remember me for 30 days</span>
                            </label>
                        </div>

                        <button type="submit" class="btn btn-primary login-btn" id="loginBtn">
                            <span class="btn-text">Continue</span>
                            <div class="spinner hidden"></div>
                        </button>
                    </form>
                </div>

                <!-- Step 2: 2FA Verification -->
                <div class="login-step" id="step2">
                    <button type="button" class="back-btn" id="backToStep1">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                        Back
                    </button>

                    <h2 class="step-title">Two-Factor Authentication</h2>
                    <p class="step-description">Enter the 6-digit code from your authenticator app</p>

                    <form id="twoFactorForm">
                        <div class="code-input-container">
                            <input type="text" class="code-input" maxlength="1" data-index="0" inputmode="numeric" pattern="[0-9]">
                            <input type="text" class="code-input" maxlength="1" data-index="1" inputmode="numeric" pattern="[0-9]">
                            <input type="text" class="code-input" maxlength="1" data-index="2" inputmode="numeric" pattern="[0-9]">
                            <input type="text" class="code-input" maxlength="1" data-index="3" inputmode="numeric" pattern="[0-9]">
                            <input type="text" class="code-input" maxlength="1" data-index="4" inputmode="numeric" pattern="[0-9]">
                            <input type="text" class="code-input" maxlength="1" data-index="5" inputmode="numeric" pattern="[0-9]">
                        </div>

                        <div class="form-group remember-group">
                            <label class="remember-checkbox">
                                <input type="checkbox" id="remember2fa">
                                <span class="checkmark"></span>
                                <span class="remember-text">Remember 2FA for 30 days</span>
                            </label>
                        </div>

                        <button type="submit" class="btn btn-primary login-btn" id="verifyBtn" disabled>
                            <span class="btn-text">Verify</span>
                            <div class="spinner hidden"></div>
                        </button>
                    </form>
                </div>

                <!-- Step 3: Daily Session Key -->
                <div class="login-step" id="step3">
                    <button type="button" class="back-btn" id="backToStep2">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                        Back
                    </button>

                    <h2 class="step-title">Session Authentication</h2>
                    <p class="step-description">Enter today's authentication key</p>

                    <div class="session-key-hint">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="12" y1="16" x2="12" y2="12"/>
                            <line x1="12" y1="8" x2="12.01" y2="8"/>
                        </svg>
                        <span>Check the #authentications channel for today's key</span>
                    </div>

                    <form id="sessionKeyForm">
                        <div class="form-group">
                            <input
                                type="text"
                                id="sessionKey"
                                class="form-input session-key-input"
                                placeholder="XXXX-XXXX"
                                maxlength="9"
                                autocomplete="off"
                                required
                            >
                        </div>

                        <button type="submit" class="btn btn-primary login-btn" id="sessionKeyBtn">
                            <span class="btn-text">Sign In</span>
                            <div class="spinner hidden"></div>
                        </button>
                    </form>
                </div>

                <!-- Footer -->
                <div class="login-footer">
                    <p>Â© Elderos 2026 - By Ashpire</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Authentication Loading Overlay -->
    <div class="auth-loading-overlay" id="authLoadingOverlay">
        <div class="auth-particles" id="authParticles"></div>

        <!-- Simple Progress Bar (for reduced motion users) -->
        <div class="auth-loading-simple" id="authLoadingSimple">
            <img src="assets/logo.png" alt="Elderos" class="auth-loading-logo" style="animation: none;" onerror="this.style.display='none'">
            <div class="auth-progress-container">
                <div class="auth-progress-text" id="authProgressText">Authenticating...</div>
                <div class="auth-progress-bar">
                    <div class="auth-progress-fill" id="authProgressFill"></div>
                </div>
                <div class="auth-progress-step" id="authProgressStep">Step 1 of 4</div>
            </div>
        </div>

        <!-- Loading State (animated version) -->
        <div class="auth-loading-content" id="authLoadingContent">
            <img src="assets/logo.png" alt="Elderos" class="auth-loading-logo" onerror="this.style.display='none'">

            <div class="auth-spinner-container">
                <div class="auth-spinner-ring"></div>
                <div class="auth-spinner-inner"></div>
                <div class="auth-spinner-icon" id="authSpinnerIcon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"/>
                    </svg>
                </div>
            </div>

            <div class="auth-stage-text" id="authStageText">Authenticating</div>
            <div class="auth-stage-subtext" id="authStageSubtext">Verifying your credentials...</div>

            <div class="auth-stages">
                <div class="auth-stage">
                    <div class="auth-stage-dot" id="stageDot1"></div>
                </div>
                <div class="auth-stage-line" id="stageLine1"></div>
                <div class="auth-stage">
                    <div class="auth-stage-dot" id="stageDot2"></div>
                </div>
                <div class="auth-stage-line" id="stageLine2"></div>
                <div class="auth-stage">
                    <div class="auth-stage-dot" id="stageDot3"></div>
                </div>
                <div class="auth-stage-line" id="stageLine3"></div>
                <div class="auth-stage">
                    <div class="auth-stage-dot" id="stageDot4"></div>
                </div>
            </div>
        </div>

        <!-- Success State -->
        <div class="auth-success-container" id="authSuccessContainer">
            <div class="auth-success-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
            </div>
            <div class="auth-success-text">Welcome Back!</div>
            <div class="auth-success-subtext" id="authSuccessSubtext">Redirecting to dashboard...</div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/login.js?v=1"></script>
</body>
</html>
